function YerOverlay(){var a=this;a.param={close_on_outsideclick:!0},a.obj={wrap:void 0,box:void 0,cont:void 0},a.init=function(b){a.param=a.helper.setDefaultParam({p:b,d:a.param}),jQuery(".yeroverlay-wrap").remove(),jQuery("body").append('<div class="yeroverlay-wrap"><div class="yeroverlay-box"><div class="yeroverlay-content">'),a.obj.wrap=jQuery(".yeroverlay-wrap"),a.obj.box=jQuery(".yeroverlay-box"),a.obj.cont=jQuery(".yeroverlay-content"),a.param.close_on_outsideclick&&a.obj.wrap.on("click",function(b){b.stopPropagation(),a.obj.wrap.fadeOut(100)}),a.obj.box.on("click",function(a){a.stopPropagation()})},a.set=function(b){var c={watch:void 0,event:"click",theme:".yeroverlay-theme-default",content:void 0,content_selector:void 0,content_by_data:void 0,content_by_data_selector:void 0,load_path:void 0,load_href:void 0,close_button:!1};b=a.helper.setDefaultParam({p:b,d:c}),b.watch?jQuery(b.watch).on(b.event,function(c){c.preventDefault(),a.overlay(jQuery(this),b)}):b.content_selector?a.overlay(jQuery(b.content_selector),b):a.overlay(void 0,b),b.close_on_outsideclick?a.obj.wrap.on("click",function(b){b.stopPropagation(),a.obj.wrap.fadeOut(100)}):a.obj.wrap.unbind("click")},a.overlay=function(b,c){if(c.content_selector&&(c.content=jQuery(c.content_selector).html()),b&&c.content_by_data&&(c.content=b.data(c.content_by_data)),b&&c.content_by_data_selector){var d=b.data(c.content_by_data_selector);c.content=jQuery(d).html()}c.load_path&&a.obj.cont.load(c.load_path,function(){a.fitboxsize()}),c.load_href&&a.obj.cont.load(b.attr("href"),function(){a.fitboxsize()}),c.close_button?a.closebtn_add():a.closebtn_remove(),a.open(c.content)},a.formsubmit=function(b){a.obj.cont.find("form").submit(function(c){c.preventDefault(),jQuery(this).css("opacity",.3).find('input[type="submit"]').parent().css("visibility","hidden");var d=jQuery(this),e=d.attr("action");jQuery.post(e+"?ajax=y",d.serialize(),function(c){var d=jQuery(c).find(b.selector);a.obj.cont.children().fadeOut(200,function(){jQuery(this).parent().empty().append(d).children().css("opacity",0),a.obj.cont.children().hide().css("opacity",1).fadeIn(200),a.formsubmit(b),a.closebtn()})})})},a.closebtn_add=function(){a.closebtn_remove(),a.obj.box.append('<div class="yeroverlay-close">'),a.obj.close=a.obj.box.find(".yeroverlay-close"),a.obj.close.on("click",function(b){a.obj.wrap.fadeOut(100),b.stopPropagation()})},a.closebtn_remove=function(){jQuery(".yeroverlay-close").remove()},a.fitboxsize=function(){window.setTimeout(function(){jQuery(a.obj.cont).imagesLoaded().always(function(){a.fitboxsize_job()}),jQuery(window).off("resize").resize(function(){a.fitboxsize_job()})},100)},a.fitboxsize_job=function(){a.obj.cont.height("auto");var b=a.windowsize(),c=parseInt(a.obj.box.css("padding-top"),10),d=parseInt(a.obj.box.css("padding-bottom"),10),e=parseInt(a.obj.box.css("margin-top"),10),f=parseInt(a.obj.box.css("margin-bottom"),10),g=a.obj.box.height(),h=b.height-e-f-c-d,i=g+c+d+e+f;b.height<i&&a.obj.cont.height(h)},a.windowsize=function(){var a={};return a.width=jQuery(window).width(),a.height=jQuery(window).height(),a},a.open=function(b){a.obj.cont.html(b),a.obj.wrap.fadeIn(200,function(){a.fitboxsize()})},a.helper={getLength:function(a){var b=a.length?--a.length:-1;for(var c in a)b++;return b},setDefaultParam:function(b){"undefined"==typeof b&&(b={}),"undefined"==typeof b.p&&(b.p={}),"undefined"==typeof b.d&&(b.d={});var c=b.p;for(var d in b.d)"undefined"!=typeof b.d[d]&&typeof c[d]!=typeof b.d[d]?c[d]=b.d[d]:"undefined"!=typeof b.d[d]&&a.helper.getLength(c[d])!==a.helper.getLength(b.d[d])&&(c[d]=a.helper.setDefaultParam({p:c[d],d:b.d[d]}));return c}}}